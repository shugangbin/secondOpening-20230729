import{E as H}from"./index.98ef9498.js";import{E as Y}from"./index.7ded7c66.js";import{_ as G}from"./index.1d37229e.js";import{E as J}from"./index.12dda1e0.js";import{_ as K}from"./index.9f03209a.js";import{_ as O}from"./layout.6eb0f29a.js";import{a as Q,aa as U,a7 as W,r as h,w as X,ak as Z,o,i as n,f as r,e as c,u as _,h as e,F as $,j as B,l as i,c as ee,a8 as D,t as s,H as k,k as te,ag as se,ah as oe,b9 as ae}from"./entry.47644ad8.js";/* empty css                *//* empty css                        */import"./el-form-item.4ed993c7.js";import{u as ne}from"./asyncData.66979bec.js";import{a as le}from"./pay.9680cc12.js";import{E as re}from"./index.5f1ada03.js";import{_ as ce}from"./_plugin-vue_export-helper.c27b6911.js";import"./throttle.a2b1ebd6.js";import"./debounce.ad6365f0.js";import"./position.0a5dfbe0.js";import"./_baseClone.7cdf9853.js";import"./_getTag.ff85c21b.js";import"./usePolling.9af4c0ec.js";import"./index.53e0169a.js";import"./use-dialog.c1a38897.js";import"./refs.1a6521b3.js";function _e(l){return $request.get({url:"/recharge/rechargePackage",params:l})}function ie(l){return $request.get({url:"/share/task",params:l})}function de(l){return $request.get({url:"/share/share",params:l})}const p=l=>(se("data-v-0700b6d0"),l=l(),oe(),l),pe={key:0},ue=p(()=>e("span",{class:"font-bold"},"每日任务",-1)),me={class:"grid grid-cols-2 gap-4 mt-[23px]"},xe={class:"font-medium"},he={class:"text-[14px] mt-[8px]"},fe={class:"text-primary"},ve=p(()=>e("span",null,"条，每日限",-1)),ge={class:"text-primary"},ye=p(()=>e("span",null,"次",-1)),ke={class:"text-primary text-[14px] mt-[8px]"},we=p(()=>e("span",{class:"font-bold"},"充值套餐",-1)),be=p(()=>e("span",{class:"ml-[10px] form-tips"},"VIP期间对话不消耗次数，次数永不过期",-1)),Ee={class:"flex flex-wrap mt-[20px] mx-[-8px]"},Ce=["onClick"],Ie={class:"pt-[60%] relative w-full h-0"},Fe={class:"absolute left-0 right-0 bottom-0 top-0"},Se={key:0,class:"absolute top-[-1px] left-[-1px] bg-[#FF3232] text-white text-sm rounded-[4px] px-[10px] py-[4px]"},Pe={class:"p-[15px] flex-1 min-h-0 flex flex-col"},$e={class:"text-xl font-medium mt-[6px] line-clamp-1"},Be={class:"text-sm text-tx-secondary mt-[10px] line-clamp-3"},De={class:"mt-auto"},Ne={class:"flex flex-wrap justify-between mt-[10px] text-sm"},Re={class:"mr-[10px] flex-none"},Ve={key:0,class:"text-primary"},je={class:"flex flex-wrap justify-between mt-[6px] text-sm"},Le={class:"mr-[10px] flex-none"},qe={key:0,class:"text-primary"},ze={class:"mt-[10px] text-white"},Ae=p(()=>e("span",{class:"text-white"},"立即充值",-1)),Te={key:0},Me={key:0},He=Q({__name:"index",async setup(l){let m,w;const N=U();console.log(N);const R=W(),b=h(null),E=h(0),f=h({}),v=h([]),C=(a,u)=>{E.value=a,f.value=u},{data:g}=([m,w]=X(()=>ne(()=>_e({}),"$YCI9aCBExL")),m=await m,w(),m),V=()=>{var u;let a=(u=g.value.lists)==null?void 0:u.findIndex(x=>x.is_recommend);a===-1&&(a=0),C(a,g.value.lists[a])},j=async()=>{const a=await le({recharge_package_id:f.value.id});b.value.open({...a,...f.value})},I=async()=>{v.value=await ie()},L=async()=>{const{share_id:a}=await de({channel:4});ae(`${window.origin}/pc/?cid=${a}`),I()};return Z(()=>{V(),I()}),(a,u)=>{const x=H,q=Y,z=G,F=J,A=K,T=O;return o(),n("div",null,[r(T,{name:"default"},{default:c(()=>[r(_(re),null,{default:c(()=>[r(x,{class:"!border-none",shadow:"never"},{default:c(()=>[e("div",null,[_(v).length?(o(),n("div",pe,[ue,e("div",me,[(o(!0),n($,null,B(_(v),(t,d)=>(o(),n("div",{class:"bg-[#F8F8F8] p-[20px] flex justify-between",key:d},[e("div",null,[e("div",xe,s(t.type==2?"邀请新用户":"分享给好友"),1),e("div",he,[e("span",null,s(t.type==2?"邀请":"分享")+"一次，获得",1),e("span",fe,s(t==null?void 0:t.rewards),1),ve,e("span",ge,s(t==null?void 0:t.max),1),ye]),e("div",ke," 进度："+s(t==null?void 0:t.num)+"/"+s(t==null?void 0:t.max),1)]),r(_(D),{type:"primary",class:"self-center",onClick:L},{default:c(()=>[k("点击复制")]),_:1})]))),128))])])):i("",!0)])]),_:1}),_(R).getIsShowRecharge?(o(),ee(x,{key:0,class:"!border-none mt-[16px]",shadow:"never"},{default:c(()=>[e("div",null,[e("div",null,[we,be,e("div",Ee,[(o(!0),n($,null,B(_(g).lists,(t,d)=>(o(),n("div",{class:te(["recharge-package-item flex flex-col relative",{actived:_(E)==d}]),key:t.id,onClick:y=>C(d,t)},[e("div",Ie,[e("div",Fe,[r(q,{src:t.image,class:"h-full w-full",fit:"cover"},null,8,["src"])])]),t.is_recommend?(o(),n("div",Se," 强烈推荐 ")):i("",!0),e("div",Pe,[e("div",null,[r(z,{content:t.sell_price,color:"#FF3232","font-weight":500,"main-size":"20px","minor-size":"14px"},null,8,["content"])]),e("div",$e,s(t.name),1),e("div",Be,s(t.describe),1),e("div",De,[e("div",Ne,[e("div",Re," 对话次数: "+s(t.number),1),t.is_give&&t.give_number?(o(),n("div",Ve," +"+s(t.give_number),1)):i("",!0)]),e("div",je,[e("div",Le," 绘画次数: "+s(t.draw_number),1),t.is_give&&t.give_draw_number?(o(),n("div",qe," +"+s(t.give_draw_number),1)):i("",!0)])])])],10,Ce))),128))]),e("div",ze,[r(_(D),{type:"primary",onClick:j},{default:c(()=>[Ae]),_:1})])])])]),_:1})):i("",!0)]),_:1}),r(A,{ref_key:"PaymentRef",ref:b,type:"recharge",redirect:"/recharge"},{top:c(({name:t,number:d,give_number:y,is_give:S,give_draw_number:P,draw_number:M})=>[r(F,{label:"套餐名称"},{default:c(()=>[e("div",null,s(t),1)]),_:2},1024),r(F,{label:"套餐内容"},{default:c(()=>[e("div",null,[e("div",null,[k(" 对话次数: "+s(d)+" ",1),S&&y?(o(),n("span",Te," (赠送"+s(y)+"次) ",1)):i("",!0)]),e("div",null,[k(" 绘画次数: "+s(M)+" ",1),S&&P?(o(),n("span",Me," (赠送"+s(P)+"次) ",1)):i("",!0)])])]),_:2},1024)]),_:1},512)]),_:1})])}}});const ut=ce(He,[["__scopeId","data-v-0700b6d0"]]);export{ut as default};
