import{aG as m}from"./entry.47644ad8.js";function p(f,T){const a=m(()=>null,"$2BiYE6t5Ya"),r=m(()=>null,"$FEm0ZA02tU"),{time:d=2e3,totalTime:s,count:e,callback:c=()=>!1}=T??{};let l=null,t=null,n=0;const i=()=>{if(console.log("count2:",e),t&&t<=Date.now()){o(),c();return}if(e&&n>=e){o(),c();return}n++,l=setTimeout(()=>{f().then(u=>{a.value=u,i()}).catch(u=>{r.value=u})},d)},g=()=>{t=s?Date.now()+s:null,i()},o=()=>{setTimeout(()=>{clearTimeout(l),l=null,t=null,n=0},0)};return{start:g,end:o,error:r,result:a}}export{p as u};
