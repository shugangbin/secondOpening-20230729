import{_ as a}from"./page-meta.e1766212.js";import{d as e,r as s,P as l,M as t,o as u,i as r,g as i,f as c,F as o,l as n,e as m,a as d,b as p,k as _,S as f,v,n as g,h as y,t as h,j as x,_ as k}from"./index-5fd89c82.js";import{_ as b}from"./u-search.64a85f63.js";import{_ as j}from"./u-icon.a1449c4b.js";import{_ as w}from"./u-empty.c5bbad9c.js";import{_ as R}from"./page-status.09beba2a.js";import{_ as O}from"./tabbar.vue_vue_type_script_setup_true_lang.f97ce269.js";import{d as S}from"./chat.b5adffe9.js";import"./u-loading.e1adf064.js";import"./u-badge.c3ab894f.js";const V=k(e({__name:"skills",setup(e){const k=s(l.LOADING),V=s([]),A=s({}),C=s(""),G=async()=>{try{V.value=await S({keyword:C.value});const a={id:0,name:"全部",skill:V.value.reduce(((a,e)=>a.concat(e.skill)),[])};A.value=a,V.value.unshift(a),k.value=l.NORMAL}catch(a){k.value=l.ERROR}};return t((()=>{G()})),(e,s)=>{const l=d(p("page-meta"),a),t=d(p("u-search"),b),S=_,I=f,L=d(p("u-icon"),j),M=v("router-navigate"),N=d(p("u-empty"),w),P=d(p("page-status"),R),$=d(p("tabbar"),O);return u(),r(o,null,[i(l,{"page-style":e.$theme.pageStyle},null,8,["page-style"]),i(P,{status:k.value},{error:c((()=>[i(N,{text:"加载出错～"})])),default:c((()=>[i(S,{class:"skills"},{default:c((()=>[i(S,{class:"px-[24rpx] py-[14rpx] bg-white"},{default:c((()=>[i(t,{modelValue:C.value,"onUpdate:modelValue":s[0]||(s[0]=a=>C.value=a),placeholder:"请输入关键词搜索",height:"72","show-action":!1,onSearch:s[1]||(s[1]=a=>G())},null,8,["modelValue"])])),_:1}),i(S,{class:"main"},{default:c((()=>[i(S,{class:"main__left bg-white"},{default:c((()=>[i(I,{"scroll-y":"true",class:"h-full"},{default:c((()=>[i(S,{class:"category py-[20rpx] text-content"},{default:c((()=>[(u(!0),r(o,null,n(V.value,(a=>(u(),m(S,{class:g(["category-item",{"category-item--active":A.value.id==a.id}]),key:a.id,onClick:e=>(a=>{A.value=a})(a)},{default:c((()=>[y(h(a.name),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1}),i(S,{class:"main__right flex-1"},{default:c((()=>[i(I,{"scroll-y":"true",class:"h-full"},{default:c((()=>[i(S,{class:"p-[20rpx]"},{default:c((()=>{var a;return[(null==(a=A.value.skill)?void 0:a.length)?(u(),m(S,{key:0,class:"skills-list"},{default:c((()=>[(u(!0),r(o,null,n(A.value.skill,(a=>(u(),m(S,{class:"skills-list-item",key:a.id},{default:c((()=>[i(M,{to:`/pages/chat/chat?type=3&id=${a.id}`,class:"flex items-center"},{default:c((()=>[i(L,{name:a.image,size:76},null,8,["name"]),i(S,{class:"flex-1 min-w-0 ml-[20rpx]"},{default:c((()=>[i(S,{class:"text-lg"},{default:c((()=>[y(h(a.name),1)])),_:2},1024),a.describe?(u(),m(S,{key:0,class:"line-clamp-2 text-xs text-content mt-[10rpx]"},{default:c((()=>[y(h(a.describe),1)])),_:2},1024)):x("v-if",!0)])),_:2},1024)])),_:2},1032,["to"])])),_:2},1024)))),128))])),_:1})):(u(),m(S,{key:1,class:"pt-[300rpx]"},{default:c((()=>[i(N,{text:"暂无数据～",mode:"list"})])),_:1}))]})),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["status"]),i($)],64)}}}),[["__scopeId","data-v-e275c3b5"]]);export{V as default};
