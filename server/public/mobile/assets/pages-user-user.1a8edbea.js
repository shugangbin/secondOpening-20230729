import{_ as e}from"./page-meta.e1766212.js";import{d as t,J as s,r as a,ag as l,c as r,a as n,b as u,o as i,e as c,f as o,g as p,h as m,t as d,n as f,y as x,s as _,u as g,k as y,K as b,ah as v,_ as k,x as h,v as j,j as w,i as C,F as I,l as O,H as S,ai as F,aj as L,ak as U,W as V,C as z,D,E as J,af as $}from"./index-5fd89c82.js";import{_ as B}from"./u-avatar.e79612df.js";import{u as H}from"./useCopy.dbed25b8.js";import{_ as K}from"./u-image.adbe7f0a.js";import{_ as P}from"./u-button.ea6057e5.js";import{_ as T}from"./u-icon.a1449c4b.js";import{_ as A}from"./tabbar.vue_vue_type_script_setup_true_lang.f97ce269.js";import"./u-badge.c3ab894f.js";const E=k(t({__name:"user-info",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(e){const t=s(),{copy:k}=H(),h=a(!1),j=l();r((()=>h.value?j.primaryColor:"transparent"));return(s,a)=>{const l=n(u("u-avatar"),B),r=y,h=b,j=v;return i(),c(r,{class:"user-info mb-[-70rpx]"},{default:o((()=>[p(r,{class:"flex px-[50rpx] pb-[100rpx] justify-between pt-[40rpx]"},{default:o((()=>[e.isLogin?(i(),c(r,{key:0,class:"flex items-center",onClick:a[1]||(a[1]=e=>{return s="/pages/user_set/user_set",void t.navigateTo(s);var s})},{default:o((()=>[p(l,{src:e.user.avatar,size:120},null,8,["src"]),p(r,{class:"text-btn-text ml-[20rpx]"},{default:o((()=>[p(r,{class:"flex items-center"},{default:o((()=>[p(r,{class:"text-2xl font-medium"},{default:o((()=>[m(d(e.user.nickname),1)])),_:1}),p(r,{class:f(["flex-none ml-[16rpx] text-xs text-white rounded-[6rpx] px-[10rpx] py-[6rpx]",{"text-[#F8C596]":e.user.is_member}]),style:x({background:e.user.is_member?"linear-gradient(90.00deg, #484848 0%, #101010 100%)":"#4073fa"})},{default:o((()=>[m(d(e.user.is_member?e.user.member_package_name||"VIP会员":"普通用户"),1)])),_:1},8,["class","style"])])),_:1}),p(r,{class:"text-xs mt-[18rpx]",onClick:a[0]||(a[0]=_((t=>g(k)(e.user.sn)),["stop"]))},{default:o((()=>[m(" 用户ID："+d(e.user.sn)+" ",1),p(h,{class:"underline"},{default:o((()=>[m("复制")])),_:1})])),_:1})])),_:1})])),_:1})):(i(),c(j,{key:1,class:"flex items-center","hover-class":"none",url:"/pages/login/login"},{default:o((()=>[p(l,{src:"/static/images/user/default_avatar.png",size:120}),p(r,{class:"text-btn-text text-3xl ml-[20rpx]"},{default:o((()=>[m("未登录")])),_:1})])),_:1}))])),_:1})])),_:1})}}}),[["__scopeId","data-v-f5718f17"]]),G=k(t({__name:"user-vip",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})},user:{type:Object,default:()=>({})},isLogin:{type:Boolean}},setup(e){const t=s(),a=h(),{getImageUrl:l}=h();return(s,r)=>{const f=n(u("u-image"),K),x=y,_=n(u("u-button"),P),v=b,k=n(u("u-icon"),T),h=j("router-navigate");return i(),c(x,{class:"user-vip mx-[20rpx] rounded-lg mb-[20rpx]"},{default:o((()=>[g(a).getIsShowVip?(i(),c(x,{key:0,class:"p-[30rpx] flex"},{default:o((()=>[p(f,{width:"80",height:"80",src:g(l)(e.content.icon),alt:""},null,8,["src"]),p(x,{class:"flex justify-between w-full"},{default:o((()=>[p(x,{class:"ml-[20rpx] flex flex-col justify-between"},{default:o((()=>[p(x,{class:"text-[32rpx] text-[#55300F] font-medium"},{default:o((()=>[m(d(e.user.is_member?"您已成为VIP会员":e.content.title),1)])),_:1}),p(x,{class:"text-[24rpx] text-[#6A3D15]"},{default:o((()=>[m(d(e.user.is_member?e.user.member_perpetual?"有效期至：永久":`有效期至：${e.user.member_end_time}`:e.content.sub_title),1)])),_:1})])),_:1}),e.isLogin?(i(),c(x,{key:0,class:"flex flex-col justify-center"},{default:o((()=>[g(a).getIsShowVip&&!e.user.member_perpetual?(i(),c(_,{key:0,shape:"circle",size:"medium",customStyle:{padding:"0 24rpx",height:"56rpx",background:"#333333",color:"#F8C596"},"hover-class":"none",onClick:r[0]||(r[0]=e=>{return s="/packages/pages/open_vip/open_vip",void t.navigateTo(s);var s})},{default:o((()=>[m(d(e.user.is_member?"立即续费":e.content.btn),1)])),_:1})):w("v-if",!0)])),_:1})):w("v-if",!0)])),_:1})])),_:1})):w("v-if",!0),p(h,{to:"/packages/pages/recharge/recharge"},{default:o((()=>[p(x,{class:"bg-white rounded-lg flex p-[30rpx] pr-[24rpx]"},{default:o((()=>[p(x,{class:"flex-1"},{default:o((()=>[p(x,null,{default:o((()=>[m("对话余额")])),_:1}),p(x,{class:"flex items-center mt-[20rpx]"},{default:o((()=>[p(v,{class:"text-primary"},{default:o((()=>[m(d(e.user.balance||0)+"条 ",1)])),_:1})])),_:1})])),_:1}),p(x,{class:"flex-1"},{default:o((()=>[p(x,null,{default:o((()=>[m("绘画余额")])),_:1}),p(x,{class:"flex items-center mt-[20rpx]"},{default:o((()=>[p(v,{class:"text-primary"},{default:o((()=>[m(d(e.user.balance_draw||0)+"次 ",1)])),_:1})])),_:1})])),_:1}),p(x,{class:"text-muted flex"},{default:o((()=>[p(k,{name:"arrow-right"})])),_:1})])),_:1})])),_:1})])),_:1})}}}),[["__scopeId","data-v-9a434976"]]),N=k(t({__name:"my-service",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=h(),s=(e,t)=>{e.name=t,F(e,!0)};return(a,l)=>{const r=n(u("u-image"),K),c=n(u("u-icon"),T);return i(),C("div",{class:"my-service bg-white mx-[20rpx] mb-[20rpx] rounded-lg"},[1==e.content.style?(i(),C("div",{key:0,class:"flex flex-wrap pt-[40rpx] pb-[20rpx]"},[(i(!0),C(I,null,O(e.content.data,((e,a)=>(i(),C("div",{key:a,class:"flex flex-col items-center w-1/4 mb-[15px]",onClick:t=>s(e.link,e.name)},[p(r,{width:"52",height:"52",src:g(t)(e.image),alt:""},null,8,["src"]),S("div",{class:"mt-[7px]"},d(e.name),1)],8,["onClick"])))),128))])):w("v-if",!0),2==e.content.style?(i(),C("div",{key:1},[(i(!0),C(I,null,O(e.content.data,((e,a)=>(i(),C("div",{key:a,class:"flex items-center nav-item h-[100rpx] px-[24rpx]",onClick:t=>s(e.link,e.name)},[p(r,{width:"48",height:"48",src:g(t)(e.image),alt:""},null,8,["src"]),S("div",{class:"ml-[20rpx] flex-1"},d(e.name),1),S("div",{class:"text-muted"},[p(c,{name:"arrow-right"})])],8,["onClick"])))),128))])):w("v-if",!0)])}}}),[["__scopeId","data-v-849f97a6"]]),W=t({__name:"user-banner",props:{content:{type:Object,default:()=>({})},styles:{type:Object,default:()=>({})}},setup(e){const{getImageUrl:t}=h();return(s,a)=>{const l=n(u("u-image"),K),r=L,m=U,d=y;return e.content.data.length&&e.content.enabled?(i(),c(d,{key:0,class:"banner h-[200rpx] mx-[20rpx] mb-[20rpx] translate-y-0"},{default:o((()=>[p(m,{class:"swiper h-full","indicator-dots":e.content.data.length>1,"indicator-active-color":"#4173ff",autoplay:!0},{default:o((()=>[(i(!0),C(I,null,O(e.content.data,((e,s)=>(i(),c(r,{key:s,onClick:t=>{return s=e.link,void F(s);var s}},{default:o((()=>[p(l,{mode:"aspectFit",width:"100%",height:"100%",src:g(t)(e.image),"border-radius":14},null,8,["src"])])),_:2},1032,["onClick"])))),128))])),_:1},8,["indicator-dots"])])),_:1})):w("v-if",!0)}}}),Y=t({__name:"user",setup(t){const s=V({pages:[]}),a=z(),{userInfo:l,isLogin:r}=D(a);return J((()=>{(async()=>{const e=await $({id:1});s.pages=JSON.parse(e.data)})(),a.getUser()})),(t,a)=>{const m=n(u("page-meta"),e),d=n(u("w-user-info"),E),f=n(u("w-user-vip"),G),x=n(u("w-my-service"),N),_=n(u("w-user-banner"),W),b=y,v=n(u("tabbar"),A);return i(),C(I,null,[p(m,{"page-style":t.$theme.pageStyle},null,8,["page-style"]),p(b,{class:"user pb-[20rpx]"},{default:o((()=>[(i(!0),C(I,null,O(s.pages,((e,t)=>(i(),c(b,{key:t},{default:o((()=>["user-info"==e.name?(i(),c(d,{key:0,content:e.content,styles:e.styles,user:g(l),"is-login":g(r)},null,8,["content","styles","user","is-login"])):w("v-if",!0),"open-vip"==e.name?(i(),c(f,{key:1,content:e.content,styles:e.styles,user:g(l),"is-login":g(r)},null,8,["content","styles","user","is-login"])):w("v-if",!0),"my-service"==e.name?(i(),c(x,{key:2,content:e.content,styles:e.styles},null,8,["content","styles"])):w("v-if",!0),"user-banner"==e.name?(i(),c(_,{key:3,content:e.content,styles:e.styles},null,8,["content","styles"])):w("v-if",!0)])),_:2},1024)))),128))])),_:1}),p(v)],64)}}});export{Y as default};
