import{d as a,r as t,P as s,C as e,D as l,E as r,a6 as u,a7 as p,o as m,i as c,g as n,f as o,h as i,t as x,u as f,e as _,F as d,l as y,j as g,a as b,b as h,K as j,k,a8 as v,L as w,a9 as C,aa as I,_ as R}from"./index-5fd89c82.js";import{_ as O}from"./page-meta.e1766212.js";import{_ as A}from"./u-icon.a1449c4b.js";import{_ as E}from"./u-button.ea6057e5.js";import{_ as L}from"./u-empty.c5bbad9c.js";import{_ as N}from"./page-status.09beba2a.js";import{_ as S}from"./tabbar.vue_vue_type_script_setup_true_lang.f97ce269.js";import{u as z}from"./useCopy.dbed25b8.js";import"./u-loading.e1adf064.js";import"./u-badge.c3ab894f.js";const D=R(a({__name:"task_center",setup(a){const R=t(s.LOADING),{copy:D}=z(),G=()=>{v({OA_WEIXIN:()=>{w({title:"温馨提示",content:"点击右上角“...”，分享给好友",showCancel:!1})},H5:async()=>{const a=await C(!0);D(a),w({title:"温馨提示",content:"已经复制到剪贴板，请转发给好友",showCancel:!1})}})},H=t([]),K=async()=>{H.value=await I()},P=e(),{userInfo:U}=l(P),F=async()=>{try{await Promise.all([K()]),R.value=s.NORMAL}catch(a){R.value=s.ERROR}};return r((()=>{F(),P.getUser()})),u((async()=>{try{await F(),await P.getUser()}catch(a){}p()})),(a,t)=>{const s=b(h("page-meta"),O),e=j,l=k,r=b(h("u-icon"),A),u=b(h("u-button"),E),p=b(h("u-empty"),L),v=b(h("page-status"),N),w=b(h("tabbar"),S);return m(),c(d,null,[n(s,{"page-style":a.$theme.pageStyle},null,8,["page-style"]),n(v,{status:R.value},{error:o((()=>[n(p,{text:"加载出错～"})])),default:o((()=>[n(l,{class:"task-center"},{default:o((()=>[n(l,{class:"bg-primary text-btn-text px-[30rpx] pt-[30rpx] pb-[80rpx] mb-[-50rpx]"},{default:o((()=>[i(" 剩余条数 "),n(e,{class:"text-[48rpx] font-medium"},{default:o((()=>[i(x(f(U).balance||0),1)])),_:1}),i(" 条 ")])),_:1}),n(l,{class:"px-[30rpx] pb-[20rpx]"},{default:o((()=>[H.value.length?(m(),_(l,{key:0,class:"daily-tasks"},{default:o((()=>[n(l,{class:"tasks-title"},{default:o((()=>[n(l,{class:"font-medium text-xl"},{default:o((()=>[i("每日任务")])),_:1}),n(l,{class:"ml-[14rpx] text-muted text-sm"},{default:o((()=>[i(" 免费获得条数 ")])),_:1})])),_:1}),n(l,{class:"tasks-content"},{default:o((()=>[(m(!0),c(d,null,y(H.value,((a,t)=>(m(),_(l,{class:"tasks-item p-[20rpx] flex",key:t},{default:o((()=>[n(r,{class:"flex-none",name:a.image,size:120},null,8,["name"]),n(l,{class:"flex-1 min-w-0 ml-[20rpx]"},{default:o((()=>[n(l,{class:"text-xl font-medium"},{default:o((()=>[i(x(a.title),1)])),_:2},1024),n(l,{class:"mt-[10rpx] text-sm text-muted"},{default:o((()=>[i(x(1==a.type?"分享":"邀请")+"1次，获得",1),n(e,{class:"text-error"},{default:o((()=>[i(x(a.rewards),1)])),_:2},1024),i("条，每日限"),n(e,{class:"text-error"},{default:o((()=>[i(x(a.max),1)])),_:2},1024),i("次 ")])),_:2},1024),n(l,{class:"text-primary mt-[14rpx]"},{default:o((()=>[i(" 进度："+x(a.num)+"/"+x(a.max),1)])),_:2},1024)])),_:2},1024),n(l,{class:"flex-none"},{default:o((()=>[n(u,{type:"primary",shape:"circle",size:"medium",customStyle:{padding:"0 24rpx",height:"56rpx"},"open-type":"share",onClick:G},{default:o((()=>[i(" 去分享 ")])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})])),_:1})):g("v-if",!0)])),_:1})])),_:1})])),_:1},8,["status"]),n(w)],64)}}}),[["__scopeId","data-v-cedaecec"]]);export{D as default};
