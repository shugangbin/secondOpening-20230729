import{_ as e,aB as t,a as o,b as s,o as a,e as n,f as l,g as i,n as r,y as d,T as u,h as c,t as p,j as f,k as h,K as m,d as g,x as _,i as x,F as w,l as y,u as k,s as C,H as S}from"./index-5fd89c82.js";import{_ as b}from"./u-icon.a1449c4b.js";import{_ as M}from"./text-item.vue_vue_type_script_setup_true_lang.eddf7716.js";const v=e({name:"u-read-more",emits:["open","close"],props:{showHeight:{type:[Number,String],default:400},toggle:{type:Boolean,default:!1},closeText:{type:String,default:"展开阅读全文"},openText:{type:String,default:"收起"},color:{type:String,default:"#2979ff"},fontSize:{type:[String,Number],default:28},shadowStyle:{type:Object,default:()=>({backgroundImage:"linear-gradient(-180deg, rgba(255, 255, 255, 0) 0%, #fff 80%)",paddingTop:"300rpx",marginTop:"-300rpx"})},textIndent:{type:String,default:"2em"},index:{type:[Number,String],default:""}},watch:{paramsChange(e){this.init()}},computed:{paramsChange(){return`${this.toggle}-${this.showHeight}`},innerShadowStyle(){return this.showMore?{}:this.shadowStyle}},data(){return{isLongContent:!1,showMore:!1,elId:this.$u.guid()}},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){this.$uGetRect("."+this.elId).then((e=>{e.height>t(this.showHeight)&&(this.isLongContent=!0,this.showMore=!1)}))},toggleReadMore(){this.showMore=!this.showMore,0==this.toggle&&(this.isLongContent=!1),this.$emit(this.showMore?"open":"close",this.index)}}},[["render",function(e,t,g,_,x,w){const y=h,k=m,C=o(s("u-icon"),b);return a(),n(y,{class:""},{default:l((()=>[i(y,{class:r(["u-content",[x.elId]]),style:d({height:x.isLongContent&&!x.showMore?g.showHeight+"rpx":"auto",textIndent:g.textIndent})},{default:l((()=>[u(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style"]),x.isLongContent?(a(),n(y,{key:0,onClick:w.toggleReadMore,class:r(["u-content__showmore-wrap",{"u-content__show-more":x.showMore}]),style:d([w.innerShadowStyle])},{default:l((()=>[i(k,{class:"u-content__showmore-wrap__readmore-btn",style:d({fontSize:g.fontSize+"rpx",color:g.color})},{default:l((()=>[c(p(x.showMore?g.openText:g.closeText),1)])),_:1},8,["style"]),i(y,{class:"u-content__showmore-wrap__readmore-btn__icon u-flex"},{default:l((()=>[i(C,{color:g.color,size:g.fontSize,name:x.showMore?"arrow-up":"arrow-down"},null,8,["color","size","name"])])),_:1})])),_:1},8,["onClick","class","style"])):f("v-if",!0)])),_:3})}],["__scopeId","data-v-96e2f092"]]),I=e(g({__name:"creation-history-item",props:{title:{default:""},time:{default:""},content:{default:()=>[]},overflow:{type:Boolean,default:!1},showCopy:{type:Boolean,default:!0}},emits:["click-title","copy","delete"],setup(e,{emit:t}){const r=_();return(d,u)=>{const m=h,g=o(s("u-read-more"),v),_=o(s("u-icon"),b);return a(),n(m,{class:"create-record-item"},{default:l((()=>[i(m,{class:"flex items-center"},{default:l((()=>[i(m,{class:"text-lg line-clamp-1 font-medium",onClick:u[0]||(u[0]=o=>t("click-title",e.title))},{default:l((()=>[c(p(e.title),1)])),_:1})])),_:1}),i(m,{class:"flex items-center text-xs"},{default:l((()=>[i(m,{class:"text-muted mt-[10rpx] mr-auto"},{default:l((()=>[c(p(e.time),1)])),_:1})])),_:1}),(a(!0),x(w,null,y(e.content,((o,s)=>(a(),n(m,{class:"mt-[10px] bg-page p-[20rpx] rounded-[14rpx]",key:s},{default:l((()=>[i(m,null,{default:l((()=>[e.overflow?(a(),n(g,{key:0,toggle:!0},{default:l((()=>[i(m,{class:"indent-0 text-main"},{default:l((()=>[i(M,{"is-markdown":!!k(r).getChatConfig.is_markdown,content:o},null,8,["is-markdown","content"])])),_:2},1024)])),_:2},1024)):(a(),n(m,{key:1},{default:l((()=>[i(M,{"is-markdown":!!k(r).getChatConfig.is_markdown,content:o},null,8,["is-markdown","content"])])),_:2},1024))])),_:2},1024),i(m,{class:"flex justify-end"},{default:l((()=>[e.showCopy?(a(),n(m,{key:0,class:"mt-[20rpx] flex bg-white px-[26rpx] py-[10rpx] rounded-full text-content",onClick:C((e=>t("copy",o)),["stop"])},{default:l((()=>[i(_,{name:"file-text"}),S("span",{class:"text-xs ml-[10rpx]"}," 复制")])),_:2},1032,["onClick"])):f("v-if",!0)])),_:2},1024)])),_:2},1024)))),128))])),_:1})}}}),[["__scopeId","data-v-e26cbc5a"]]),T="/mobile/assets/create_record-353a2bee.png";export{T as _,I as a};
