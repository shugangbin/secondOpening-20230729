import{C as g,B as E,t as b,D as w}from"./element-plus.6ae56789.js";import{_ as D}from"./picker.329c432e.js";import{a as y,e as k}from"./problem_category.03847647.js";import{P as x}from"./index.e9e37d9e.js";import"./index.9ffd2ade.js";import{d as R,s as d,r as c,o as h,c as A,V as a,M as n,a as f}from"./@vue.581f5ce0.js";const U={class:"edit-popup"},P=f("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u6392\u8D8A\u524D\u9762",-1),T=R({__name:"edit",emits:["success"],setup(I,{expose:_,emit:v}){const i=d(),r=d(),m=c(""),e=c({id:"",name:"",sort:0,status:"",image:""}),F={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},V=async()=>{var o,u;try{await((o=i.value)==null?void 0:o.validate()),e.value.id==""?await y(e.value):e.value.id!=""&&await k(e.value),(u=r.value)==null||u.close(),v("success")}catch(s){return s}};return _({open:(o,u)=>{var s;o=="add"?(e.value={id:"",name:"",sort:"0",status:1},m.value="\u65B0\u589E\u5206\u7C7B"):o=="edit"&&(Object.keys(e.value).map(l=>{e.value[l]=u[l]}),m.value="\u7F16\u8F91\u5206\u7C7B"),(s=r.value)==null||s.open()}}),(o,u)=>{const s=D,l=g,p=E,B=b,C=w;return h(),A("div",U,[a(x,{ref_key:"popupRef",ref:r,title:m.value,async:!0,width:"550px",onConfirm:V},{default:n(()=>[a(C,{class:"ls-form",ref_key:"formRef",ref:i,rules:F,model:e.value,"label-width":"90px"},{default:n(()=>[a(l,{label:"\u5206\u7C7B\u56FE\u6807",prop:"image"},{default:n(()=>[a(s,{modelValue:e.value.image,"onUpdate:modelValue":u[0]||(u[0]=t=>e.value.image=t)},null,8,["modelValue"])]),_:1}),a(l,{label:"\u5206\u7C7B\u540D\u79F0",prop:"name"},{default:n(()=>[a(p,{class:"ls-input",modelValue:e.value.name,"onUpdate:modelValue":u[1]||(u[1]=t=>e.value.name=t),placeholder:"\u8BF7\u8F93\u5165\u5206\u7C7B\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),a(l,{label:"\u6392\u5E8F"},{default:n(()=>[f("div",null,[a(p,{class:"ls-input",modelValue:e.value.sort,"onUpdate:modelValue":u[2]||(u[2]=t=>e.value.sort=t)},null,8,["modelValue"]),P])]),_:1}),a(l,{label:"\u72B6\u6001"},{default:n(()=>[a(B,{modelValue:e.value.status,"onUpdate:modelValue":u[3]||(u[3]=t=>e.value.status=t),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{T as _};
