import{C as y,B as A,t as B,w as C}from"./element-plus.6ae56789.js";import{_ as U}from"./index.d607c7e6.js";import{_ as z}from"./picker.1a1c724e.js";import{_ as $}from"./picker.329c432e.js";import{f as h,b as N}from"./index.9ffd2ade.js";import{D as I}from"./vuedraggable.bb90125a.js";import{j as P}from"./lodash-es.b552e321.js";import{d as R,e as S,o as u,c as T,a as s,V as a,M as l,L as i,S as m,u as p,k as j,W as L,T as M}from"./@vue.581f5ce0.js";const W={class:"mb-[18px] max-w-[400px]"},q={class:"bg-fill-light w-full p-4 mt-4"},G={class:"upload-btn w-[60px] h-[60px]"},H=s("span",{class:"text-xs leading-5"}," \u672A\u9009\u4E2D ",-1),J={class:"upload-btn w-[60px] h-[60px]"},K=s("span",{class:"text-xs leading-5"}," \u9009\u4E2D ",-1),O={class:"flex-1 flex items-center"},Q={class:"drag-move cursor-move ml-auto"},X=M(" \u6DFB\u52A0\u5BFC\u822A "),se=R({__name:"menu-set",props:{modelValue:null,max:{default:9999},min:{default:-1},itemData:{default:()=>({name:"",selected:"",unselected:"",is_show:"1",link:{}})}},emits:["update:modelValue"],setup(r,{emit:x}){const n=r,t=S({get(){return n.modelValue},set(d){x("update:modelValue",d)}}),v=()=>{var d;((d=t.value)==null?void 0:d.length)<n.max?t.value.push(P(n.itemData)):h.msgError(`\u6700\u591A\u6DFB\u52A0${n.max}\u4E2A`)},g=d=>{if(t.value.length<=n.min&&n.min>-1)return h.msgError(`\u6700\u5C11\u4FDD\u7559${n.min}\u4E2A`);t.value.splice(d,1)};return(d,f)=>{const _=N,V=$,c=y,k=A,b=z,w=B,F=U,D=C;return u(),T(L,null,[s("div",W,[a(p(I),{class:"draggable",modelValue:p(t),"onUpdate:modelValue":f[0]||(f[0]=e=>j(t)?t.value=e:null),animation:"300",handle:".drag-move"},{item:l(({element:e,index:E})=>[a(F,{onClose:o=>g(E),class:"max-w-[400px]"},{default:l(()=>[s("div",q,[e.unselected!==void 0||e.selected!==void 0?(u(),i(c,{key:0,label:"\u5BFC\u822A\u56FE\u6807"},{default:l(()=>[e.unselected!==void 0?(u(),i(V,{key:0,modelValue:e.unselected,"onUpdate:modelValue":o=>e.unselected=o,"upload-class":"bg-body","exclude-domain":"",size:"60px"},{upload:l(()=>[s("div",G,[a(_,{name:"el-icon-Plus",size:16}),H])]),_:2},1032,["modelValue","onUpdate:modelValue"])):m("",!0),e.selected!==void 0?(u(),i(V,{key:1,modelValue:e.selected,"onUpdate:modelValue":o=>e.selected=o,"upload-class":"bg-body","exclude-domain":"",size:"60px"},{upload:l(()=>[s("div",J,[a(_,{name:"el-icon-Plus",size:16}),K])]),_:2},1032,["modelValue","onUpdate:modelValue"])):m("",!0)]),_:2},1024)):m("",!0),e.name!==void 0?(u(),i(c,{key:1,label:"\u5BFC\u822A\u540D\u79F0"},{default:l(()=>[a(k,{modelValue:e.name,"onUpdate:modelValue":o=>e.name=o,placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):m("",!0),e.link!==void 0?(u(),i(c,{key:2,label:"\u94FE\u63A5\u5730\u5740"},{default:l(()=>[a(b,{modelValue:e.link,"onUpdate:modelValue":o=>e.link=o,type:"pc"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):m("",!0),e.is_show!==void 0?(u(),i(c,{key:3,label:"\u662F\u5426\u663E\u793A"},{default:l(()=>[s("div",O,[a(w,{modelValue:e.is_show,"onUpdate:modelValue":o=>e.is_show=o,"active-value":"1","inactive-value":"0"},null,8,["modelValue","onUpdate:modelValue"]),s("div",Q,[a(_,{name:"el-icon-Rank",size:"18"})])])]),_:2},1024)):m("",!0)])]),_:2},1032,["onClose"])]),_:1},8,["modelValue"])]),p(t).length<r.max?(u(),i(c,{key:0,"label-width":"0"},{default:l(()=>[a(D,{type:"primary",onClick:v},{default:l(()=>[X]),_:1})]),_:1})):m("",!0)],64)}}});export{se as _};
