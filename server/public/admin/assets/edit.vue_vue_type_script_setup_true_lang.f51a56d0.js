import{L as k,C as L,B as R,v as D,t as Q,D as U,K as I}from"./element-plus.6ae56789.js";import{r}from"./index.9ffd2ade.js";import{g as N}from"./problem_category.03847647.js";import{P as O}from"./index.e9e37d9e.js";import{d as P,s as g,r as c,o as _,c as E,V as l,M as s,W as j,aa as z,a as F,L as K}from"./@vue.581f5ce0.js";function ee(u){return r.get({url:"/question.questionSample/lists",params:u})}function M(u){return r.post({url:"/question.questionSample/add",params:u})}function T(u){return r.post({url:"/question.questionSample/edit",params:u})}function te(u){return r.post({url:"/question.questionSample/del",params:u})}function ue(u){return r.post({url:"/question.questionSample/status",params:u})}const W={class:"edit-popup"},G=F("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u636E\u8D8A\u5927\u8D8A\u6392\u524D\u9762",-1),oe=P({__name:"edit",emits:["success","close"],setup(u,{expose:y,emit:f}){const v=g(),d=g(),m=c(""),B=c([]),e=c({id:"",category_id:"",content:"",sort:0,status:"1"}),w={category_id:[{required:!0,message:"\u8BF7\u9009\u62E9\u793A\u4F8B\u7C7B\u76EE",trigger:["blur"]}],content:[{required:!0,message:"\u8BF7\u8F93\u5165\u793A\u4F8B\u5185\u5BB9",trigger:["blur"]}]},V=async()=>{const{lists:a}=await N();B.value=a},S=async()=>{var a,t;try{await((a=v.value)==null?void 0:a.validate()),e.value.id==""?await M(e.value):e.value.id!=""&&await T(e.value),(t=d.value)==null||t.close(),f("success")}catch(n){return n}},b=()=>{f("close")};return y({open:(a,t)=>{var n;V(),a=="add"?(e.value={id:"",category_id:"",content:"",sort:0,status:1},m.value="\u65B0\u589E\u95EE\u9898\u793A\u4F8B"):a=="edit"&&(Object.keys(e.value).map(i=>{e.value[i]=t[i]}),m.value="\u7F16\u8F91\u95EE\u9898\u793A\u4F8B"),(n=d.value)==null||n.open()}}),(a,t)=>{const n=I,i=k,p=L,q=R,A=D,C=Q,x=U;return _(),E("div",W,[l(O,{ref_key:"popupRef",ref:d,title:m.value,async:!0,width:"550px",onConfirm:S,onClose:b},{default:s(()=>[l(x,{class:"ls-form",ref_key:"formRef",ref:v,rules:w,model:e.value,"label-width":"90px"},{default:s(()=>[l(p,{label:"\u793A\u4F8B\u7C7B\u76EE",prop:"category_id"},{default:s(()=>[l(i,{class:"w-full",placeholder:"\u8BF7\u9009\u62E9",modelValue:e.value.category_id,"onUpdate:modelValue":t[0]||(t[0]=o=>e.value.category_id=o)},{default:s(()=>[(_(!0),E(j,null,z(B.value,(o,h)=>(_(),K(n,{key:h,value:o.id,label:o.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1}),l(p,{label:"\u793A\u4F8B\u5185\u5BB9",prop:"content"},{default:s(()=>[l(q,{modelValue:e.value.content,"onUpdate:modelValue":t[1]||(t[1]=o=>e.value.content=o),type:"textarea",autosize:{minRows:4,maxRows:6},placeholder:"\u8BF7\u8F93\u5165\u793A\u4F8B\u5185\u5BB9",maxlength:"200","show-word-limit":""},null,8,["modelValue"])]),_:1}),l(p,{label:"\u6392\u5E8F",prop:"sort"},{default:s(()=>[F("div",null,[l(A,{modelValue:e.value.sort,"onUpdate:modelValue":t[2]||(t[2]=o=>e.value.sort=o),min:0,max:9999},null,8,["modelValue"]),G])]),_:1}),l(p,{label:"\u72B6\u6001",prop:"sort"},{default:s(()=>[l(C,{modelValue:e.value.status,"onUpdate:modelValue":t[3]||(t[3]=o=>e.value.status=o),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{oe as _,te as d,ue as e,ee as g};
