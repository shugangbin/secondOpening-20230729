import{B as y,C as k,t as b,D as h}from"./element-plus.6ae56789.js";import{P as g}from"./index.e9e37d9e.js";import{e as x,a as R}from"./type.4bea271c.js";import{d as A,s as p,r as S,e as U,_ as I,o as N,c as P,V as u,M as a,a as c,u as q}from"./@vue.581f5ce0.js";const M={class:"edit-popup"},T=c("div",{class:"form-tips"},"\u9ED8\u8BA4\u4E3A0\uFF0C\u6570\u503C\u8D8A\u5927\u6392\u8D8A\u524D\u9762",-1),K=A({__name:"edit",emits:["success","close"],setup(j,{expose:f,emit:d}){const m=p(),s=p(),n=S("add"),_=U(()=>n.value=="add"?"\u65B0\u589E\u7C7B\u522B":"\u7F16\u8F91\u7C7B\u522B"),o=I({id:"",name:"",sort:0,status:1}),B={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u540D\u79F0",trigger:["blur"]}]},v=async()=>{var t,e;await((t=m.value)==null?void 0:t.validate()),n.value=="edit"?await x(o):await R(o),(e=s.value)==null||e.close(),d("success")},F=(t="add")=>{var e;n.value=t,(e=s.value)==null||e.open()},C=async t=>{for(const e in o)t[e]!=null&&t[e]!=null&&(o[e]=t[e])},V=()=>{d("close")};return f({open:F,setFormData:C}),(t,e)=>{const i=y,r=k,D=b,E=h;return N(),P("div",M,[u(g,{ref_key:"popupRef",ref:s,title:q(_),async:!0,width:"550px",onConfirm:v,onClose:V},{default:a(()=>[u(E,{ref_key:"formRef",ref:m,model:o,"label-width":"84px",rules:B},{default:a(()=>[u(r,{label:"\u7C7B\u522B\u540D\u79F0",prop:"name"},{default:a(()=>[u(i,{placeholder:"\u8BF7\u8F93\u5165\u7C7B\u522B\u540D\u79F0",modelValue:o.name,"onUpdate:modelValue":e[0]||(e[0]=l=>o.name=l)},null,8,["modelValue"])]),_:1}),u(r,{label:"\u6392\u5E8F"},{default:a(()=>[c("div",null,[u(i,{class:"ls-input",modelValue:o.sort,"onUpdate:modelValue":e[1]||(e[1]=l=>o.sort=l)},null,8,["modelValue"]),T])]),_:1}),u(r,{label:"\u72B6\u6001"},{default:a(({row:l})=>[u(D,{modelValue:o.status,"onUpdate:modelValue":e[2]||(e[2]=w=>o.status=w),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{K as _};
