import{B as q,C as N,G as I,H as P,v as S,t as T,D as G}from"./element-plus.6ae56789.js";import{_ as z}from"./picker.329c432e.js";import{f as H,h as L,i as M}from"./wx_oa.2bd7739e.js";import{P as O}from"./index.e9e37d9e.js";import{d as W,s as C,r as $,e as j,_ as J,o as d,c as y,V as t,M as o,a as s,L as m,S as p,W as K,u as Q,T as _}from"./@vue.581f5ce0.js";const X={class:"edit-popup"},Y={class:"flex-1"},Z=s("div",{class:"form-tips"},"\u65B9\u4FBF\u901A\u8FC7\u540D\u79F0\u7BA1\u7406\u5173\u6CE8\u56DE\u590D\u5185\u5BB9",-1),ee={class:"flex-1"},ue=s("div",{class:"form-tips"},"\u65B9\u4FBF\u901A\u8FC7\u540D\u79F0\u7BA1\u7406\u5173\u6CE8\u56DE\u590D\u5185\u5BB9",-1),te={class:"flex-1"},oe=_("\u5168\u5339\u914D"),le=_("\u6A21\u7CCA\u5339\u914D"),ae=s("div",{class:"form-tips"},"\u6A21\u7CCA\u5339\u914D\u65F6\uFF0C\u5173\u952E\u8BCD\u90E8\u5206\u5339\u914D\u7528\u6237\u8F93\u5165\u7684\u5185\u5BB9\u5373\u53EF",-1),se={class:"flex-1"},ne=_("\u6587\u672C"),de=_("\u56FE\u6587"),re=_("\u8D85\u94FE\u63A5"),ie={key:0,class:"form-tips"},pe={class:"flex-1"},_e={class:"flex-1"},me={class:"flex-1"},ce=_("\u56DE\u590D\u5339\u914D\u9996\u8BCD\u6761"),fe=s("div",{class:"form-tips"}," \u8BBE\u7F6E\u5173\u952E\u8BCD\u5339\u914D\u591A\u6761\u65F6\u56DE\u590D\u7684\u6570\u91CF\uFF0C\u6682\u65F6\u652F\u6301\u56DE\u590D\u4E00\u6761\u5185\u5BB9 ",-1),ge=W({__name:"edit",emits:["success","close"],setup(Fe,{expose:g,emit:B}){const D=C(),c=C(),f=$("add"),V=j(()=>f.value=="edit"?"\u7F16\u8F91":"\u65B0\u589E"),e=J({id:"",name:"",reply_type:0,content_type:1,keyword:"",content:"",content_image:"",matching_type:1,status:1,sort:0,reply_num:1}),v={name:[{required:!0,message:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0",trigger:["blur"]}],keyword:[{required:!0,message:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD",trigger:["blur"]}],matching_type:[{required:!0,message:"\u8BF7\u9009\u62E9\u5339\u914D\u65B9\u5F0F",trigger:["blur"]}],content_type:[{required:!0,message:"\u8BF7\u9009\u62E9\u56DE\u590D\u7C7B\u578B",trigger:["blur"]}],content_image:[{required:!0,message:"\u8BF7\u9009\u62E9\u56DE\u590D\u56FE\u7247"}],content:[{required:!0,message:"\u8BF7\u8F93\u5165\u56DE\u590D\u5185\u5BB9",trigger:["blur"]}]},b=async()=>{var a,u;await((a=D.value)==null?void 0:a.validate()),f.value=="edit"?await H(e):await L(e),(u=c.value)==null||u.close(),B("success")},h=(a="add",u=0)=>{var r;f.value=a,e.reply_type=u,(r=c.value)==null||r.open()},E=a=>{for(const u in e)a[u]!=null&&a[u]!=null&&(e[u]=a[u])},w=async a=>{const u=await M({id:a.id});E(u)},k=()=>{B("close")};return g({open:h,setFormData:E,getDetail:w}),(a,u)=>{const r=q,n=N,i=I,F=P,x=z,A=S,R=T,U=G;return d(),y("div",X,[t(O,{ref_key:"popupRef",ref:c,title:Q(V),async:!0,width:"500px",onConfirm:b,onClose:k},{default:o(()=>[t(U,{ref_key:"formRef",ref:D,model:e,"label-width":"84px",rules:v,class:"pr-10"},{default:o(()=>[t(n,{label:"\u89C4\u5219\u540D\u79F0",prop:"name"},{default:o(()=>[s("div",Y,[t(r,{modelValue:e.name,"onUpdate:modelValue":u[0]||(u[0]=l=>e.name=l),placeholder:"\u8BF7\u8F93\u5165\u89C4\u5219\u540D\u79F0"},null,8,["modelValue"]),Z])]),_:1}),e.reply_type==2?(d(),m(n,{key:0,label:"\u5173\u952E\u8BCD",prop:"keyword"},{default:o(()=>[s("div",ee,[t(r,{modelValue:e.keyword,"onUpdate:modelValue":u[1]||(u[1]=l=>e.keyword=l),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u8BCD"},null,8,["modelValue"]),ue])]),_:1})):p("",!0),e.reply_type==2?(d(),m(n,{key:1,label:"\u5339\u914D\u65B9\u5F0F",prop:"matching_type"},{default:o(()=>[s("div",te,[t(F,{modelValue:e.matching_type,"onUpdate:modelValue":u[2]||(u[2]=l=>e.matching_type=l)},{default:o(()=>[t(i,{label:1},{default:o(()=>[oe]),_:1}),t(i,{label:2},{default:o(()=>[le]),_:1})]),_:1},8,["modelValue"]),ae])]),_:1})):p("",!0),t(n,{label:"\u56DE\u590D\u7C7B\u578B",prop:"content_type",min:0},{default:o(()=>[s("div",se,[t(F,{modelValue:e.content_type,"onUpdate:modelValue":u[3]||(u[3]=l=>e.content_type=l)},{default:o(()=>[t(i,{label:1},{default:o(()=>[ne]),_:1}),e.reply_type==1?(d(),y(K,{key:0},[t(i,{label:2},{default:o(()=>[de]),_:1}),t(i,{label:3},{default:o(()=>[re]),_:1})],64)):p("",!0)]),_:1},8,["modelValue"]),e.reply_type!=1?(d(),y("div",ie," \u6682\u65F6\u53EA\u652F\u6301\u6587\u672C\u7C7B\u578B ")):p("",!0)])]),_:1}),t(n,{label:e.content_type!==3?"\u56DE\u590D\u5185\u5BB9":"\u94FE\u63A5\u5730\u5740",prop:"content"},{default:o(()=>[s("div",pe,[t(r,{modelValue:e.content,"onUpdate:modelValue":u[4]||(u[4]=l=>e.content=l),autosize:{minRows:4,maxRows:4},type:"textarea",maxlength:"200","show-word-limit":"",placeholder:`\u8BF7\u8F93\u5165${e.content_type!==3?"\u56DE\u590D\u5185\u5BB9":"\u94FE\u63A5\u5730\u5740"}`},null,8,["modelValue","placeholder"])])]),_:1},8,["label"]),e.content_type==2?(d(),m(n,{key:2,label:"\u56DE\u590D\u56FE\u7247",prop:"content_image"},{default:o(()=>[t(x,{modelValue:e.content_image,"onUpdate:modelValue":u[5]||(u[5]=l=>e.content_image=l)},null,8,["modelValue"])]),_:1})):p("",!0),t(n,{label:"\u6392\u5E8F"},{default:o(()=>[s("div",_e,[t(A,{modelValue:e.sort,"onUpdate:modelValue":u[6]||(u[6]=l=>e.sort=l),min:0,max:9999},null,8,["modelValue"])])]),_:1}),e.reply_type==2?(d(),m(n,{key:3,label:"\u56DE\u590D\u6570\u91CF",prop:"reply_num",required:""},{default:o(()=>[s("div",me,[t(F,{modelValue:e.reply_num,"onUpdate:modelValue":u[7]||(u[7]=l=>e.reply_num=l)},{default:o(()=>[t(i,{label:1},{default:o(()=>[ce]),_:1})]),_:1},8,["modelValue"]),fe])]),_:1})):p("",!0),t(n,{label:"\u542F\u7528\u72B6\u6001"},{default:o(()=>[t(R,{modelValue:e.status,"onUpdate:modelValue":u[8]||(u[8]=l=>e.status=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["title"])])}}});export{ge as _};
